<html>
<head>
<title>Search: {{ q }} â€” Runoregi</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="./static/css/bootstrap.min.css">
<link rel="stylesheet" href="./static/style.css">
</head>
<body>
<center>
<form method="GET" action="/search">
<table border="0">
<tr>
<td rowspan="2">
<input type="text" name="q" size="50" value="{{ args['q'] }}"/>
<input type="submit" value="Search"/>
</td>
<td width="30" rowspan="2"/>
<td>
<small>
<b>Method:</b>
<input type="radio" id="fulltext" name="method" value="plain"{% if args['method'] == "plain" %} checked=""{% endif %}>
<label for="fulltext">Plain text</label>
<input type="radio" id="regex" name="method" value="regex"{% if args['method'] == "regex" %} checked=""{% endif %}>
<label for="regex">Regular expression</label>
</small>
</td>
</tr>
<tr>
<td>
<small>
<b>Search in:</b>
<input type="checkbox" id="themes" name="themes" value="true"{% if args['themes'] %} checked=""{% endif %}>
<label for="themes">Theme index</label>
<input type="checkbox" id="meta" name="meta" value="true"{% if args['meta'] %} checked=""{% endif %}>
<label for="meta">Poem metadata</label>
<input type="checkbox" id="verses" name="verses" value="true"{% if args['verses'] %} checked=""{% endif %}>
<label for="verses">Poem text (verses)</label>
</small>
</td>
</tr>
</table>
</form>
</center>
<hr/>
<h1>Search results for: {{ args['q'] }}</h1>

<div class="container-fluid"> 
<div class="row">
<div class="col-md-3"></div>
<div class="col-md-6">
{% if data['r_themes'] %}
<h2>Themes</h2>
{% if data['r_themes'] | length >= data['limit'] %}
<p><b><font color="red">
Limit of {{ data['limit'] }} results exceeded!
Try to make the query more specific.
</font></b></p>
{% endif %}
{% for theme_id, name, desc, upper in data['r_themes'] %}
<h4>{{ upper | join(" > ") }} &gt;
<a href="/theme?id={{ theme_id }}">{{ name }}</a></h4>
{{ desc }}
<hr/>
{% endfor %}
{% endif %}
</div>
<div class="col-md-3"></div>
</div>

<div class="row">
<div class="col-md-3"></div>
<div class="col-md-6">
{% if data['r_meta'] %}
<h2>Metadata</h2>
{% if data['r_meta'] | length >= data['limit'] %}
<p><b><font color="red">
Limit of {{ data['limit'] }} results exceeded!
Try to make the query more specific.
</font></b></p>
{% endif %}
{% for nro, field, value in data['r_meta'] %}
<a href="/poem?nro={{ nro }}">{{ nro }}</a>
<b>{{ field }}:</b> {{ value }} <br/>
{% endfor %}
{% endif %}
</div>
<div class="col-md-3"></div>
</div>

<div class="row">
<div class="col-md-3"></div>
<div class="col-md-6">
{% if data['r_verses'] %}
<h2>Verses</h2>
{% if r_verses | length >= data['limit'] %}
<p><b><font color="red">
Limit of {{ limit }} results exceeded!
Try to make the query more specific.
</font></b></p>
{% endif %}
{% for nro, pos, text in data['r_verses'] %}
<a href="/poem?nro={{ nro }}&hl={{ pos }}#{{ pos }}">{{ nro }}</a>
<sup><small>{{ pos }}</small></sup> {{ text }}<br/>
{% endfor %}
{% endif %}
</div>
<div class="col-md-3"></div>
</div>
</div>

</body>
</html>